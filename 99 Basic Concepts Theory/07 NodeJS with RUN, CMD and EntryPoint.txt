Here is a clear, practical Node.js example showing how RUN, CMD, and ENTRYPOINT work together inside a Dockerfile.
---------------------------------------------------------------------------------------------------------------------
---------------------------------------------------------------------------------------------------------------------
---------------------------------------------------------------------------------------------------------------------
ðŸš€ Node.js Example with RUN, CMD, ENTRYPOINT
Assume your Node project has:

project/
 â”œâ”€â”€ package.json
 â”œâ”€â”€ server.js
 â””â”€â”€ Dockerfile

Contents of server.js:
js
console.log("Running:", process.argv);
console.log("Server starting...");
---------------------------------------------------------------------------------------------------------------------
---------------------------------------------------------------------------------------------------------------------
---------------------------------------------------------------------------------------------------------------------
âœ… Dockerfile Example Using RUN + CMD + ENTRYPOINT
FROM node:18

-------- RUN --------
This runs during image build
Installs dependencies and creates a layer

WORKDIR /app
COPY package.json .
RUN npm install

Copy application files
COPY . .

-------- ENTRYPOINT --------
This is the fixed executable
ENTRYPOINT ["node"]

-------- CMD --------
These are default arguments to ENTRYPOINT
CMD ["server.js"]
---------------------------------------------------------------------------------------------------------------------
---------------------------------------------------------------------------------------------------------------------
---------------------------------------------------------------------------------------------------------------------
ðŸ§ª How It Behaves
âœ” When you build the image:

docker build -t node-demo .

RUN executes:
* `WORKDIR /app`
* `COPY package.json`
* `npm install`
* `COPY . .`

These steps are saved in the image.
---------------------------------------------------------------------------------------------------------------------
---------------------------------------------------------------------------------------------------------------------
---------------------------------------------------------------------------------------------------------------------
ðŸš€ Running the Container
ðŸ“Œ Default behaviour:
docker run node-demo

This internally executes:
node server.js

Output:
Running: [ 'node', 'server.js' ]
Server starting...
---------------------------------------------------------------------------------------------------------------------
---------------------------------------------------------------------------------------------------------------------
---------------------------------------------------------------------------------------------------------------------
ðŸ“Œ Override only CMD (not ENTRYPOINT)
docker run node-demo another.js

This executes:
node another.js

Output:
Running: [ 'node', 'another.js' ]
Server starting...

ðŸ‘‰ CMD changed
ðŸ‘‰ ENTRYPOINT (node) is still fixed
---------------------------------------------------------------------------------------------------------------------
---------------------------------------------------------------------------------------------------------------------
---------------------------------------------------------------------------------------------------------------------
ðŸ“Œ Override ENTRYPOINT (force override)
docker run --entrypoint bash node-demo

This runs:
bash server.js

CMD stays same, ENTRYPOINT replaced.
---------------------------------------------------------------------------------------------------------------------
---------------------------------------------------------------------------------------------------------------------
---------------------------------------------------------------------------------------------------------------------
â­ Why this Node.js example is perfect for interviews
You can confidently say:
> "In Node.js, RUN is used to install dependencies during build, ENTRYPOINT sets node as the main executable, and CMD passes the default script like server.js. CMD can be overridden, ENTRYPOINT stays fixed. So running the container executes `node server.js`, but we can pass another script to run instead."
---------------------------------------------------------------------------------------------------------------------
---------------------------------------------------------------------------------------------------------------------
---------------------------------------------------------------------------------------------------------------------